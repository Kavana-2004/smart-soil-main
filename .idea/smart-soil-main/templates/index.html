{% extends 'base.html' %}

{% block content %}
<section id="home" class="section">
    <h1>Analyze your soil condition using AI-driven solutions.</h1>

    <!-- Carousel -->
    < <div class="carousel-wrapper">
        <div class="carousel-track">
            <div class="carousel-item"><img src="https://rogitex.com/cdn/shop/articles/10-ways-farmers-can-improve-soil-fertility_9df9ad4e-03f2-4d28-af7b-761cd84b576d.jpg?v=1647881446"></div>
            <div class="carousel-item"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ1BUeNJzUUiio-KQPk_yVFlC97VgFOgyHQNg&s"></div>
            <div class="carousel-item"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTcHJXHzXMoZSLZCxgSUz0XnbjsXwo5dobcV_WU-ZFiPPgWQCL_9G6PokMRZvCdYIqdSls&usqp=CAU"></div>
            <div class="carousel-item"><img src="https://s3-eu-west-2.amazonaws.com/newzimlive/wp-content/uploads/2024/12/18133242/soil-day-2023-hero.jpg"></div>
            <div class="carousel-item"><img src="https://rogitex.com/cdn/shop/articles/10-ways-farmers-can-improve-soil-fertility_9df9ad4e-03f2-4d28-af7b-761cd84b576d.jpg?v=1647881446"></div>
            <div class="carousel-item"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTcHJXHzXMoZSLZCxgSUz0XnbjsXwo5dobcV_WU-ZFiPPgWQCL_9G6PokMRZvCdYIqdSls&usqp=CAU"></div>
            <div class="carousel-item"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTcHJXHzXMoZSLZCxgSUz0XnbjsXwo5dobcV_WU-ZFiPPgWQCL_9G6PokMRZvCdYIqdSls&usqp=CAU"></div>
            <div class="carousel-item"><img src="https://s3-eu-west-2.amazonaws.com/newzimlive/wp-content/uploads/2024/12/18133242/soil-day-2023-hero.jpg"></div>
            <div class="carousel-item"><img src="https://rogitex.com/cdn/shop/articles/10-ways-farmers-can-improve-soil-fertility_9df9ad4e-03f2-4d28-af7b-761cd84b576d.jpg?v=1647881446"></div>
            <div class="carousel-item"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ1BUeNJzUUiio-KQPk_yVFlC97VgFOgyHQNg&s"></div>
            <div class="carousel-item"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTcHJXHzXMoZSLZCxgSUz0XnbjsXwo5dobcV_WU-ZFiPPgWQCL_9G6PokMRZvCdYIqdSls&usqp=CAU"></div>
            <div class="carousel-item"><img src="https://s3-eu-west-2.amazonaws.com/newzimlive/wp-content/uploads/2024/12/18133242/soil-day-2023-hero.jpg"></div>


        </div>
    </div>

 <!-- Features -->
        <div class="features">
            <h1>Soil Testing Services using AI</h1>
            <ul>
                <li>‚úÖ Smart Analysis ‚Äì AI-powered precision</li>
                <li>‚ö° Fast Results ‚Äì Instant soil reports</li>
                <li>üåç Sustainable Farming Insights</li>
                <li>üåæ Crop Suggestion</li>
                <li>üß™ pH Detection</li>
            </ul>
            <br>
            <a href="#upload" class="submit-btn" style="text-decoration: none; display: inline-block; text-align: center;">
                Get Started
            </a>
        </div>
    </div>
</section>

<!-- Instructions -->
<section id="instructions" class="section" style="padding:40px;background:#f5f5f5;">
    <h1 style="text-align:center;margin-bottom:30px;font-size:2rem;color:#2E7D32;">Instructions</h1>

    <div style="display:flex;flex-wrap:wrap;gap:20px;justify-content:center;">
        <!-- Box 1 -->
        <div style="flex:1;min-width:300px;background:white;padding:25px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.1);">
            <h3>üì∏ Taking a Clear Soil Image</h3>
            <ul>
                <li>Use a smartphone or digital camera.</li>
                <li>Ensure good daylight.</li>
                <li>Remove stones/leaves from soil.</li>
            </ul>
        </div>
        <!-- Box 2 -->
        <div style="flex:1;min-width:300px;background:white;padding:25px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.1);">
            <h3>üß™ Testing Soil pH</h3>
            <ol>
                <li>Mix 50% distilled water + 50% soil.</li>
                <li>Dip pH paper into solution.</li>
                <li>Compare with chart below.</li>
                <li>Upload pH value with soil image.</li>
            </ol>
        </div>
    </div>

    <!-- pH chart -->
   <div style="text-align:center;margin-top:30px;">
        <h2>Soil pH Color Chart</h2>
        <img src="https://t4.ftcdn.net/jpg/04/40/85/09/240_F_440850939_n5bgVscmZUNfywVsOBSo97FV0xMGBwj1.jpg"
             style="width:90%;max-width:1200px;border:3px solid #5a381e;border-radius:8px;">
    </div>
</section>

<!-- ================= UPLOAD SECTION ================= -->
<section id="upload" class="section" style="background-color:#F1F8E9;">
    <h2>Upload Soil Image for Analysis</h2>
    <p>Submit your soil photo and pH value for detailed AI analysis and crop recommendations.</p>

    <!-- Step-by-step guide -->
    <div style="display: flex; gap: 15px; margin: 20px 0; flex-wrap: wrap;">
        <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 8px; text-align: center; font-weight: bold;">
            1Ô∏è‚É£ Take a clear soil photo
        </div>
        <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 8px; text-align: center; font-weight: bold;">
            2Ô∏è‚É£ Measure pH value
        </div>
        <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 8px; text-align: center; font-weight: bold;">
            3Ô∏è‚É£ Fill your phone Number
        </div>
        <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 8px; text-align: center; font-weight: bold;">
            4Ô∏è‚É£ Click Submit
        </div>
    </div>

    <!-- Upload form -->
    <!-- Upload Section -->
<section id="upload" class="section">
    <div class="section-content">
        <h1>Soil Analysis</h1>
        <p style="text-align: center; margin-bottom: 30px;">Upload your soil image and pH data for comprehensive analysis</p>

        <!-- Step Indicators -->
        <div class="step-indicators">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-text">Take Soil Photo</div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-text">Measure pH</div>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-text">Fill Details</div>
            </div>
            <div class="step">
                <div class="step-number">4</div>
                <div class="step-text">Get Results</div>
            </div>
        </div>

        <!-- Enhanced Upload Form -->
        <div class="upload-container">
            <form action="/predict" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="soil_image">üì∑ Soil Image</label>
                    <input type="file" name="soil_image" id="soil_image" accept="image/*" class="form-input" required>
                    <small style="color: #666; font-size: 0.9em;">Upload a clear photo of your soil sample</small>
                </div>

                <div class="form-group">
                    <label for="ph_value">üß™ pH Value</label>
                    <input type="number" name="ph_value" id="ph_value" placeholder="e.g., 6.5" step="0.1" min="0" max="14" class="form-input">
                    <small style="color: #666; font-size: 0.9em;">Optional - provide for precise recommendations</small>
                </div>

                <div class="form-group">
                    <label for="phone_number">üì± Phone Number (Optional)</label>
                    <input type="tel" name="phone_number" id="phone_number" placeholder="+91 9876543210" class="form-input">
                    <small style="color: #666; font-size: 0.9em;">Receive results via SMS demo</small>
                </div>

                <button type="submit" class="submit-btn">
                    üîç Analyze Soil & Get Recommendations
                </button>
            </form>
        </div>

        <!-- Motivation Box -->
        <div class="motivation-box">
            <h3>üå± Why Your Soil Analysis Matters</h3>
            <p>Every soil sample you analyze contributes to better understanding of soil health patterns. Your participation helps improve our AI model, making soil analysis more accurate for farmers worldwide.</p>
            <p style="margin-top: 10px;"><strong>Better soil understanding ‚Üí Better crop choices ‚Üí Sustainable farming future</strong></p>
        </div>
    </div>
</section>
</section>

<!-- ================= RESULTS SECTION ================= -->
{% if show_result %}
<section id="results" class="section" style="background-color: #E8F5E9; padding: 40px 20px; margin-top: 30px; border-radius: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
    <h2 style="text-align: center; color: #2E7D32; margin-bottom: 30px;">üåæ Soil Analysis Results</h2>
    
    <!-- Display uploaded image if available -->
    {% if image_url %}
    <div style="text-align: center; margin-bottom: 30px;">
        <h4>üì∑ Your Soil Image</h4>
        <img src="{{ url_for('static', filename='uploads/' + image_url) }}" 
             style="max-width: 400px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.2);">
    </div>
    {% endif %}
    
    <!-- Display prediction results -->
    {{ result | safe }}
    
    <!-- SMS notification -->
    {% if sms_message %}
    <div style="text-align: center; margin-top: 20px; padding: 15px; background: #BBDEFB; border-radius: 8px;">
        <p style="margin: 0; font-weight: bold; color: #1976D2;">{{ sms_message }}</p>
    </div>
    {% endif %}
    
    <!-- New analysis button -->
    <div style="text-align: center; margin-top: 30px;">
        <a href="#upload" class="green-btn" style="display: inline-block; padding: 12px 24px; background: #4CAF50; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">
            üß™ Analyze Another Soil Sample
        </a>
    </div>
</section>
{% endif %}

<!-- About -->
<!-- About Section -->
<section id="about" class="section">
    <div class="section-content">
        <h1>About SmartSoil AI</h1>
        <p style="text-align: center; font-size: 1.2em; margin-bottom: 40px;">
            Revolutionizing agriculture through artificial intelligence and soil science
        </p>

        <div class="about-content">
            <div class="about-card">
                <div class="about-icon">üå±</div>
                <h3>Our Mission</h3>
                <p>To empower farmers with AI-driven soil analysis technology that provides instant, accurate soil health assessments and personalized crop recommendations for sustainable agriculture.</p>
            </div>

            <div class="about-card">
                <div class="about-icon">üî¨</div>
                <h3>Our Technology</h3>
                <p>Using advanced machine learning and computer vision, we analyze soil images to identify soil types and combine this with pH data to provide comprehensive agricultural insights.</p>
            </div>
        </div>

        <div style="margin-top: 50px;">
            <h2 style="text-align: center; margin-bottom: 30px;">Why Choose SmartSoil AI?</h2>
            <div class="features-grid">
                <div class="feature-item">
                    <h4>üöÄ Instant Analysis</h4>
                    <p>Get soil type identification and recommendations in seconds, not days</p>
                </div>
                <div class="feature-item">
                    <h4>üí∞ Cost Effective</h4>
                    <p>No need for expensive lab tests - analysis starts with just a smartphone</p>
                </div>
                <div class="feature-item">
                    <h4>üåç Sustainable Farming</h4>
                    <p>Optimize crop selection and fertilizer use for better yield and soil health</p>
                </div>
                <div class="feature-item">
                    <h4>üìä Data Driven</h4>
                    <p>Science-based recommendations using comprehensive soil databases</p>
                </div>
            </div>
        </div>

        <div class="motivation-box" style="margin-top: 50px;">
            <h3>Join the Agricultural Revolution</h3>
            <p>SmartSoil AI is committed to making advanced soil analysis accessible to every farmer. Our platform combines traditional agricultural knowledge with cutting-edge AI technology to help you make informed decisions for your farm.</p>
            <p style="margin-top: 15px;"><strong>Together, we're building a future where technology and tradition work hand-in-hand for sustainable agriculture.</strong></p>
        </div>
    </div>
</section>

<style>
.prediction-result {
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    margin-bottom: 20px;
}

.result-header {
    text-align: center;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 2px solid #4CAF50;
}

.result-header h3 {
    color: #2E7D32;
    margin: 0;
}

.result-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 25px;
}

.result-card {
    background: #F1F8E9;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    border-left: 4px solid #4CAF50;
}

.result-card.highlight {
    background: #E8F5E9;
    border-left: 4px solid #FF9800;
    transform: scale(1.05);
}

.result-card h4 {
    margin: 0 0 10px 0;
    color: #388E3C;
    font-size: 1.1em;
}

.result-card p {
    margin: 0;
    font-size: 1.3em;
    font-weight: bold;
    color: #2E7D32;
}

.additional-info {
    margin: 25px 0;
    padding: 20px;
    background: #F8F9FA;
    border-radius: 10px;
}

.additional-info h4 {
    color: #388E3C;
    margin-bottom: 15px;
}

.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.info-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.info-item .icon {
    font-size: 1.5em;
}

.other-crops {
    margin: 25px 0;
    padding: 20px;
    background: #FFF3E0;
    border-radius: 10px;
}

.other-crops h4 {
    color: #E65100;
    margin-bottom: 15px;
}

.crop-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.crop-tag {
    background: #FF9800;
    color: white;
    padding: 8px 15px;
    border-radius: 20px;
    font-size: 0.9em;
    font-weight: bold;
}

.ph-note {
    text-align: center;
    margin-top: 15px;
    padding: 10px;
    background: #E3F2FD;
    border-radius: 5px;
    color: #1976D2;
}

.prediction-result.error {
    background: #FFEBEE;
    border-left: 4px solid #F44336;
}

.green-btn {
    background: #4CAF50;
    color: white;
    padding: 12px 24px;
    border: none;
    border-radius: 5px;
    font-size: 1.1em;
    font-weight: bold;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
}

.green-btn:hover {
    background: #45a049;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}
</style>

{% endblock %}